\subsubsection{Transforming from Cartesian to Barycentric}

A 3D tetrahedron,  a  polyhedron having four triangular faces and four vertices,
is defined  by its four vertices $v_1$, $v_2$, $v_3$ and $v_4$, where $v_n$ is a
3 dimensional point in Cartesian space $v_n = \begin{bmatrix} x_n & y_n & z_n \\
\end{bmatrix}^T$.  The  barycentric  coordinates  are defined so that the  first
vertex $r_1$ maps to barycentric coordinates $\lambda_1 = \begin{bmatrix} 1  & 0
&  0 & 0 \\ \end{bmatrix}$,  $r_2  \to  \begin{bmatrix}  0  &  1  &  0  &  0  \\
\end{bmatrix}$, etc. and that the sum of barycentric parameters $\sum\lambda_n
= 1$.

This is a linear transformation and the problem can be written in matrix form so
that $\vec{v} = B \inverse \vec{\lambda}$ with $B \inverse = \begin{bmatrix} v_1
|  v_2  |  v_3  |  v_4  \\  \end{bmatrix}$  and $\vec{\lambda} = \begin{bmatrix}
\lambda_1 &  \lambda_2 & \lambda_3 \\ \end{bmatrix}^T$. The condition $\lambda_1
+  \lambda_2  +  \lambda_3 + \lambda_4 = 1$ can be augmented into the matrix  to
form the final equation:

\begin{align*}
    \begin{bmatrix}
        v_{1_x} & v_{2_x} & v_{3_x} & v_{4_x} \\
        v_{1_y} & v_{2_y} & v_{3_y} & v_{4_y} \\
        v_{1_z} & v_{2_z} & v_{3_z} & v_{4_z} \\
        1 & 1 & 1 & 1 \\
    \end{bmatrix}
    \vec{\lambda} &= \begin{bmatrix}
        x \\
        y \\
        z \\
        1 \\
    \end{bmatrix} \\
\end{align*}

Where $x$, $y$,  and  $z$  define a 3D point in Cartesian space. The barycentric
coordinates $\lambda$ can be obtained  by  solving  this  linear  equation, thus
resulting in the transformation matrix $B$:

\begin{align}
    \label{eq:bary:cartesian}
    B = \begin{bmatrix}
        v_{1_x} & v_{2_x} & v_{3_x} & v_{4_x} \\
        v_{1_y} & v_{2_y} & v_{3_y} & v_{4_y} \\
        v_{1_z} & v_{2_z} & v_{3_z} & v_{4_z} \\
        1 & 1 & 1 & 1 \\
    \end{bmatrix}\inverse
\end{align}

The projection matrix $B$ will suffice  when  dealing  with a normal tetrahedron
(i.e. all four vertices have finite locations).
